/* UTM метки  Roman  #WebDS 2017 v1  info@webds.net */
function getCookie(e){var a=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return a?decodeURIComponent(a[1]):void 0}function setCookie(e,a,t){var i=(t=t||{}).expires;if("number"==typeof i&&i){var n=new Date;n.setTime(n.getTime()+1e3*i),i=t.expires=n}i&&i.toUTCString&&(t.expires=i.toUTCString());var o=e+"="+(a=encodeURIComponent(a));for(var r in t){o+="; "+r;var m=t[r];!0!==m&&(o+="="+m)}document.cookie=o}function deleteCookie(e){setCookie(e,"",{expires:-1})}!function(e){e.dsClient2CrmServer=function(a){var t={QueryParams:{},Utm:{},SiteParams:{},Preload:'<style>.dsPreloaderServer{height: 100%;width: 100%;position: fixed;left: 0;right: 0;margin: 0;padding: 0;top: 0;z-index: 99999;}#floatingCirclesG{top:30%;position:relative;width:125px;height:125px;margin:auto;transform:scale(0.6);-o-transform:scale(0.6);-ms-transform:scale(0.6);-webkit-transform:scale(0.6);-moz-transform:scale(0.6)}.f_circleG{position:absolute;background-color:rgb(31,31,31);height:22px;width:22px;border-radius:12px;-o-border-radius:12px;-ms-border-radius:12px;-webkit-border-radius:12px;-moz-border-radius:12px;animation-name:f_fadeG;-o-animation-name:f_fadeG;-ms-animation-name:f_fadeG;-webkit-animation-name:f_fadeG;-moz-animation-name:f_fadeG;animation-duration:1.2s;-o-animation-duration:1.2s;-ms-animation-duration:1.2s;-webkit-animation-duration:1.2s;-moz-animation-duration:1.2s;animation-iteration-count:infinite;-o-animation-iteration-count:infinite;-ms-animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;-moz-animation-iteration-count:infinite;animation-direction:normal;-o-animation-direction:normal;-ms-animation-direction:normal;-webkit-animation-direction:normal;-moz-animation-direction:normal}#frotateG_01{left:0;top:51px;animation-delay:0.45s;-o-animation-delay:0.45s;-ms-animation-delay:0.45s;-webkit-animation-delay:0.45s;-moz-animation-delay:0.45s}#frotateG_02{left:15px;top:15px;animation-delay:0.6s;-o-animation-delay:0.6s;-ms-animation-delay:0.6s;-webkit-animation-delay:0.6s;-moz-animation-delay:0.6s}#frotateG_03{left:51px;top:0;animation-delay:0.75s;-o-animation-delay:0.75s;-ms-animation-delay:0.75s;-webkit-animation-delay:0.75s;-moz-animation-delay:0.75s}#frotateG_04{right:15px;top:15px;animation-delay:0.9s;-o-animation-delay:0.9s;-ms-animation-delay:0.9s;-webkit-animation-delay:0.9s;-moz-animation-delay:0.9s}#frotateG_05{right:0;top:51px;animation-delay:1.05s;-o-animation-delay:1.05s;-ms-animation-delay:1.05s;-webkit-animation-delay:1.05s;-moz-animation-delay:1.05s}#frotateG_06{right:15px;bottom:15px;animation-delay:1.2s;-o-animation-delay:1.2s;-ms-animation-delay:1.2s;-webkit-animation-delay:1.2s;-moz-animation-delay:1.2s}#frotateG_07{left:51px;bottom:0;animation-delay:1.35s;-o-animation-delay:1.35s;-ms-animation-delay:1.35s;-webkit-animation-delay:1.35s;-moz-animation-delay:1.35s}#frotateG_08{left:15px;bottom:15px;animation-delay:1.5s;-o-animation-delay:1.5s;-ms-animation-delay:1.5s;-webkit-animation-delay:1.5s;-moz-animation-delay:1.5s}@keyframes f_fadeG{0%{background-color:rgb(0,0,0)}100%{background-color:rgb(171,171,171)}}@-o-keyframes f_fadeG{0%{background-color:rgb(0,0,0)}100%{background-color:rgb(171,171,171)}}@-ms-keyframes f_fadeG{0%{background-color:rgb(0,0,0)}100%{background-color:rgb(171,171,171)}}@-webkit-keyframes f_fadeG{0%{background-color:rgb(0,0,0)}100%{background-color:rgb(171,171,171)}}@-moz-keyframes f_fadeG{0%{background-color:rgb(0,0,0)}100%{background-color:rgb(171,171,171)}}</style><div class="dsPreloaderServer"><div id="floatingCirclesG"><div class="f_circleG" id="frotateG_01"></div><div class="f_circleG" id="frotateG_02"></div><div class="f_circleG" id="frotateG_03"></div><div class="f_circleG" id="frotateG_04"></div><div class="f_circleG" id="frotateG_05"></div><div class="f_circleG" id="frotateG_06"></div><div class="f_circleG" id="frotateG_07"></div><div class="f_circleG" id="frotateG_08"></div></div></div>',PreloadInit:!1};void 0!==a&&null!=a||(a={});var i={options:e.extend({FormIDs:!1,PreloadInit:t.PreloadInit,Preload:t.Preload},a),init:function(){i.getData(),i.generateForm()},getData:function(){i.getQueryParams(),i.getReferrer(),i.getUTM()},getQueryParams:function(){t.QueryParams=function(e){for(var a=e.substr(1),t=/([^=]+)=([^&]+)&?/gi,i=t.exec(a),n={};null!=i;)n[i[1]]=i[2],i=t.exec(a);return n}(window.location.search)},getReferrer:function(){t.SiteParams.referrer=document.referrer},getUTM:function(){t.Utm.utm_source=void 0==t.QueryParams.utm_source?"":t.QueryParams.utm_source,t.Utm.utm_medium=void 0==t.QueryParams.utm_medium?"":t.QueryParams.utm_medium,t.Utm.utm_term=void 0==t.QueryParams.utm_term?"":t.QueryParams.utm_term,t.Utm.utm_content=void 0==t.QueryParams.utm_content?"":t.QueryParams.utm_content,t.Utm.utm_campaign=void 0==t.QueryParams.utm_campaign?"":t.QueryParams.utm_campaign},generateForm:function(){var e=i.getParams("FormIDs").split(",");ID_result=e.filter(function(e){return e}),ID_result.forEach(function(e){var a=i.getCheckForm(e);0!=a&&i.setForm(a,e)},this)},getParams:function(e){return void 0==e?i.options:i.options[e]},getCheckForm:function(e){var a=jQuery("form#"+e);return void 0!=a.html()&&a},setForm:function(e,a){i.setUtmToForm(e),i.setUrlReferrer(e),i.setUrlActionForm(e),i.setGetParams(e),i.setPreloadForm(e)},setPreloadForm:function(a){i.options.PreloadInit&&e(a).submit(function(){console.log("789"),i.ShowPreload(a)})},setUrlActionForm:function(e){var a=jQuery(e).attr("action"),t="";a.indexOf("?")+1?("?"!=(t=a+"&"+window.location.search.replace("?",""))[t.length-1]&&"&"!=t[t.length-1]||(t=t.substr(0,t.length-1)),jQuery(e).attr("action",t)):("?"!=(t=a+"?"+window.location.search.replace("?",""))[t.length-1]&&"&"!=t[t.length-1]||(t=t.substr(0,t.length-1)),jQuery(e).attr("action",t))},setGetParams:function(e){var a,t=window.location.search.replace("?","");void 0==(a=jQuery(e).find('[name="Rget"]')).val()?jQuery(e).append('<input type="hidden" name="Rget" value="'+btoa(t)+'">'):a.val(btoa(t)),delete a},getCheckField:function(e,a){console.log("");var t;void 0==(t=jQuery(e).find('[name="firstname"]').val())&&console.log('Внимание! Необходимо создать поле "name=firstname" в форме ID = '+a),void 0==(t=jQuery(e).find('[name="email"]').val())&&console.log('Внимание! Необходимо создать поле "name=email" в форме ID = '+a),void 0==(t=jQuery(e).find('[name="phone"]').val())&&console.log('Внимание! Необходимо создать поле "name=phone" в форме ID = '+a),delete t},setUtmToForm:function(e){var a;void 0==(a=jQuery(e).find('[name="utm_source"]')).val()?jQuery(e).append('<input type="hidden" name="utm_source" value="'+t.Utm.utm_source+'">'):a.val(t.Utm.utm_source),void 0==(a=jQuery(e).find('[name="utm_medium"]')).val()?jQuery(e).append('<input type="hidden" name="utm_medium" value="'+t.Utm.utm_medium+'">'):a.val(t.Utm.utm_medium),void 0==(a=jQuery(e).find('[name="utm_term"]')).val()?jQuery(e).append('<input type="hidden" name="utm_term" value="'+t.Utm.utm_term+'">'):a.val(t.Utm.utm_term),void 0==(a=jQuery(e).find('[name="utm_content"]')).val()?jQuery(e).append('<input type="hidden" name="utm_content" value="'+t.Utm.utm_content+'">'):a.val(t.Utm.utm_content),void 0==(a=jQuery(e).find('[name="utm_campaign"]')).val()?jQuery(e).append('<input type="hidden" name="utm_campaign" value="'+t.Utm.utm_campaign+'">'):a.val(t.Utm.utm_campaign),delete a},setUrlReferrer:function(e){var a;void 0==(a=jQuery(e).find('[name="url_referer"]')).val()?jQuery(e).append('<input type="hidden" name="url_referer" value="'+t.SiteParams.referrer+'">'):a.val(t.SiteParams.referrer),delete a},ShowPreload:function(a){e("div").hasClass("dsPreloaderServer")||(e("<div>").is(".dsPreloaderServer")||e(t.Preload).appendTo("body"),e(".dsPreloaderServer").show(),setTimeout(i.HidePreload,3e3,a))},HidePreload:function(a){e("div").is(".dsPreloaderServer")&&e(".dsPreloaderServer").hide()}};return{init:i.init}}}(jQuery),console.log("WebDS.net Widget-lib:WebDSClientToCrmServer v1.0.7");var getClientID=function(){var e=document.cookie.match("(?:^|;)\\s*_ga=([^;]*)"),a=e?decodeURIComponent(e[1]):null;a&&(e=a.match(/(\d+\.\d+)$/));var t=e?e[1]:null;return!!t&&t};
getRequestParam = window.location.search.replace('?','').split('&').reduce(function(p,e){var a = e.split('=');p[ decodeURIComponent(a[0])] = decodeURIComponent(a[1]);return p;},{});
setField2Form = function (CurrentForm,FieldName,Value) {var field = jQuery(CurrentForm).find('[name="'+FieldName+'"]');if (field.val() == undefined) {jQuery(CurrentForm).append('<input type="hidden" name="' + FieldName +'" value="' + Value + '">');} else {field.val(Value);}};


/*
$('form').submit(function(){
    val = getCookie("roistat_visit");
    setField2Form(this,"roistat",val);
    return true;
});
*/
